<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Planer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__r_e_a_d_m_e.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Planer </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p>Program zawiera zadania (<a class="el" href="class_task.html">Task</a>) do wykonania. Użytkownik może dodawać nowe zadania i zmieniać ich status wykonania. Jeżeli ilość godzin roboczych pozostałych do terminu wykonania zadania zbliża się do oczekiwanego czasu pracy zadania, program ostrzeże o tym użytkownika. Użytkownik może również zmienić ilość swoich godzin roboczych oraz zaznaczyć czy pracuje w weekendy. Przy wywoływaniu programu, użytkownik może podać nazwę pliku w którym mają być przechowywane zadania dla przyszłych wykonań programu.</p>
<p>Zadanie zawiera:</p>
<ul>
<li>Nazwę</li>
<li>status dokonania</li>
<li>opis (opcjonalnie)</li>
<li>termin (t_time)</li>
<li>oczekiwany czas wykonania (w godzinach)</li>
</ul>
<p>Ustawienia:</p>
<ul>
<li>ile godzin dziennie może zostać poświęconych zadaniom (0-24)</li>
<li>czy użytkownik pracuje w weekendy</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
Wzorzec projektowy Singleton</h1>
<p>Ze strony <a href="https://refactoring.guru/pl/design-patterns/singleton">https://refactoring.guru/pl/design-patterns/singleton</a>, dostęp 19.01.2026 11:43:</p>
<ul>
<li><b>Singleton</b> jest kreacyjnym wzorcem projektowym, który pozwala zapewnić istnienie wyłącznie jednej instancji danej klasy. Ponadto daje globalny punkt dostępowy do tejże instancji.</li>
<li>Wszystkie implementacje wzorca Singleton współdzielą poniższe dwa etapy:</li>
<li>- Ograniczenie dostępu do domyślnego konstruktora przez uczynienie go prywatnym, aby zapobiec stosowaniu operatora <span class="tt">new</span> w stosunku do klasy Singleton.<ul>
<li>Utworzenie statycznej metody kreacyjnej, która będzie pełniła rolę konstruktora. Za kulisami, metoda ta wywoła prywatny konstruktor, aby utworzyć instancję obiektu i umieści go w polu statycznym klasy. Wszystkie kolejne wywołania tej metody zwrócą już istniejący obiekt.</li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Struktura danych</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Klasa Settings (ustawienia)</h2>
<ul>
<li>instance - statyczny wskaźnik do zmiennej klasy <a class="el" href="class_settings.html">Settings</a></li>
<li>workHours - zmienna całkowitoliczbowa mówiąca o tym ile godzin użytkownik pracuje tygodniowo, zaopatrzona metodami getWorkHours() i setWorkHours(int)</li>
<li>workWeekends - zmienna logiczna prawda/fałsz mówiąca o tym czy użytkownik pracuje w weekendy, zaopatrzona metodami getWorkWeekends() i setWorkWeekends(bool)</li>
<li><a class="el" href="class_settings.html">Settings()</a> - <b>prywatny</b> konstruktor wczytujący dane z pliku tekstowego settings.babam do aktualnej instancji, lub tworzący go z ustawieniami domyślnymi w przypadku braku tego pliku</li>
<li>setSettings(int, bool) - metoda ustawiająca zmienne workHours i workWeekends dla aktualnej instancji</li>
<li>saveSettings() - metoda zapisująca dane aktualnej instancji do pliku tekstowego settings.babam</li>
<li>getInstance() - <b>statyczna</b> metoda, która zwraca zmienną instance, inicjując ją w przypadku jej braku</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Klasa Task (zadanie)</h2>
<ul>
<li>name - zmienna tekstowa zawierająca nazwę zadania, zaopatrzona metodami getName i setName</li>
<li>description - zmienna tekstowa zawierająca opis zadania, zaopatrzona metodami getDescription i setDescription</li>
<li>dueDate - zmienna typu time_t zawierająca termin zadania, zaopatrzona metodami getDueDate i setDueDate</li>
<li>expectedTime - zmienna zmiennoprzecinkowa zawierająca oczekiwany czas wykonania zadania, zaopatrzona metodami getExpectedTime i setExpectedTime</li>
<li>isCompleted - zmienna logiczna prawda/fałsz zawierająca status dokonania zadania, zaopatrzona metodami getIsCompleted i setIsCompleted</li>
<li><a class="el" href="class_task.html">Task</a>(std::string, time_t, double, std::string = "", bool = 0) - konstruktor klasy, ustawiający dane aktualnego zadania zależnie od parametrów</li>
<li>printTask() - metoda robocza wypisująca dane o zadaniu do konsoli</li>
<li>workHoursLeft() - metoda zwracająca ilość godzin roboczych pozostałych do terminu zakończenia zadania</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Wczytywanie danych</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Ustawienia</h2>
<ul>
<li>inicjalizacja zmiennej typu std::fstream o nazwie file, z wartościami konstruktora "settings.babam" oraz std::ios::in</li>
<li>jeżeli file.good() jest prawdą:<ul>
<li>inicjalizacja zmiennych _workHours oraz _workWeekends</li>
<li>wykonanie operacji wczytania ze streamu file do zmiennych kolejno _workHours oraz _workWeekends</li>
<li>zamknięcie pliku</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Zadania</h2>
<ul>
<li>jeżeli został podany argument:<ul>
<li>inicjalizacja zmiennej typu std::fstream o nazwie file, z wartością konstruktora wczytaną z argumentu wejściowego oraz std::ios::in</li>
<li>jeżeli file.good() jest prawdą:<ul>
<li>inicjalizacja zmiennej tekstowej name</li>
<li>pętla pod warunkiem sukcesu operacji czytania linii ze źródła file do zmiennej name:<ul>
<li>inicjalizacja zmiennych description, dueDate, expectedTime, isCompleted</li>
<li>wczytanie linii ze źródła file do zmiennej description</li>
<li>wczytanie wartości kolejno do zmiennych dueDate, expectedTime, isCompleted</li>
<li>wczytanie linii ze źródła file aby przejść do kolejnej linii</li>
<li>stworzenie nowego obiektu klasy <a class="el" href="class_task.html">Task</a> na podstawie danych name, dueDate, expectedTime, description, isCompleted</li>
<li>dodanie tego obiektu do wektora tasks</li>
</ul>
</li>
<li>zamknięcie pliku</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Zapis danych</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Ustawienia</h2>
<ul>
<li>inicjalizacja zmiennej typu std::fstream o nazwie file, z wartościami konstruktora "settings.babam" oraz std::ios::out</li>
<li>jeżeli file.good() jest prawdą:<ul>
<li>zapis do pliku file wartości kolejno: workHours, '<br  />
', workWeekends, '<br  />
'.</li>
<li>zamknięcie pliku</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Zadania</h2>
<ul>
<li>jeżeli został podany argument:</li>
<li>- inicjalizacja zmiennej typu std::fstream o nazwie file, z wartością konstruktora wczytaną z argumentu wejściowego oraz std::ios::out<ul>
<li>jeżeli file.good() jest prawdą:</li>
<li>- pętla po kolei wywołująca się dla każdego elementu wektora tasks:<ul>
<li>zapis do pliku file wartości kolejno: task.getName(), task.getDescription(), task.getDueDate(), task.getExpectedTime(), task.getIsCompleted()</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>zamknięcie pliku</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Algorytmy</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Settings::Settings()</h2>
<ul>
<li>inicjalizacja zmiennej file, przygotowanie do czytania pliku settings.babam</li>
<li>jeżeli plik się nie otworzył:</li>
<li>- zamknięcie pliku<ul>
<li>otwarcie pliku do wypisu</li>
<li>zapisanie danych domyślnych</li>
<li>zamknięcie pliku</li>
<li>otwarcie pliku do czytania</li>
</ul>
</li>
<li>wczytanie dwóch kolejnych danych z pliku</li>
<li>zamknięcie pliku</li>
<li>zapis danych do zmiennych aktualnej instancji pliku</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Settings::saveSettings()</h2>
<ul>
<li>wywołanie metody Settings::getInstance jako gwarancja że instancja klasy istnieje</li>
<li>otwarcie pliku wyjściowego settings.babam</li>
<li>jeżeli plik się otworzył:<ul>
<li>zapis danych</li>
<li>zamknięcie pliku</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Task::workHoursLeft()</h2>
<p>Algorytm służący do obliczenia ilości godzin roboczych pomiędzy aktualną datą i właściwością "dueDate"</p>
<ul>
<li>inicjalizacja zmiennej zmiennoprzecinkowej whl (work hours left)</li>
<li>inicjalizacja zmiennej now typu time_t, wypełnienie jej aktualną datą</li>
<li>inicjalizacja zmiennych workHours i workWeekends, pobranych z Settings::getInstance()</li>
<li>inicjalizacja zmiennej hl (hours left), wypełnienie jej różnicą czasu pomiędzy zmienną aktualnej instancji dueDate oraz now podzielonej przez 3600</li>
<li>inicjalizacja zmiennej weeksLeft, wypełnienie jej ilorazem hl, 24, oraz 7</li>
<li>wypełnienie zmiennej whl iloczynem zmiennych weeksLeft, workHours, oraz zależnie od zmiennej workWeekends albo 7 albo 5 - weeksLeft to zmienna stałoliczbowa, więc wszelki nadmiar zostaje "ucięty"</li>
<li>odjęcie od zmiennej hl iloczynu 24, 7 oraz zmiennej weeksLeft</li>
<li>inicjalizacja zmiennej stałoliczbowej daysLeft, wypełnienie jest ilorazem hl oraz 24</li>
<li>jeżeli zmienna daysLeft jest równa zero:</li>
<li>- inicjalizacja zmiennej typu double hoursLeftToday, wypełnienie jej różnicą czasu pomiędzy terminem zadania oraz aktualnym czasem, podzieloną przez 3600.0 (ilość sekund w godzinie)<ul>
<li>dodanie do zmiennej whl zmiennej workHours lub hoursLeftToday, zależnie od tego która wartość jest niższa</li>
<li>zwrócenie przez algorytm zmiennej whl</li>
</ul>
</li>
<li>inicjalizacja zmiennej typu time_t temp, wypełnienie jej sumą now oraz 60*60*24 (jutrzejszy dzień)</li>
<li>inicjalizacja zmiennej typu tm helperDate, wypełnienie jej zmienną temp</li>
<li>inicjalizacja zmiennej typu tm dueDateTM, wypełnienie jej zmienną dueDateTM</li>
<li>ustawienie godziny, minuty i sekundy helperDate danymi z dueDateTM</li>
<li>pętla działająca jeżeli różnica czasu helperDate oraz now jest mniejsza niż iloczyn daysLeft, 60, 60, i 24:<ul>
<li>jeżeli workWeekends jest prawdą lub jeżeli helperDate.tm_wday jest pomiędzy 1 a 5 (jest dniem roboczym):<ul>
<li>dodanie do whl zmiennej workHours</li>
</ul>
</li>
<li>zmiana wartości helperDate na kolejny dzień</li>
</ul>
</li>
<li>jeżeli workWeekends jest prawdą lub jeżeli helperDate.tm_wday jest pomiędzy 1 a 5 (jest dniem roboczym):<ul>
<li>dodanie do zmiennej whl ilości godzin pozostałych ostatniego dnia lub zmiennej workHours, zależnie od tego która wartość jest mniejsza</li>
</ul>
</li>
<li>inicjalizacja zmiennej typu tm nowTM danymi na podstawie zmiennej temp</li>
<li>jeżeli workWeekends jest prawdą lub jeżeli nowTM.tm_wday jest pomiędzy 1 a 5 (jest dniem roboczym):<ul>
<li>dodanie do zmiennej whl ilości godzin pozostałych dzisiejszego dnia lub zmiennej workHours, zależnie od tego która wartość jest mniejsza</li>
</ul>
</li>
<li>zwrócenie zmiennej whl</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Wnioski</h1>
<ul>
<li>program zrobiony w strukturze wygodnej do rozszerzenia o nowe funkcjonalności, np. możliwość "łączenia" zadań - sprowadza się to do dodania ich czasów wykonania </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
